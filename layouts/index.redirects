# See docs for redirects in GitLab Pages:
#
# This file is automatically generated from a template:
#   layouts/index.redirects
#
# Don't manually add redirects to this file add aliases to the target page
#
{{ $aliases := newScratch -}}
{{ $section_aliases := newScratch -}}
{{ $root_sections := slice -}}
{{/* handle explicit aliases in frontmatter */}}
{{- range $p := .Site.Pages -}}
{{- $aliases.Add $p.RelPermalink $p.Aliases -}}
{{- end -}}
{{- range .Site.Sections -}}
{{- $root_sections = $root_sections | append .RelPermalink -}}
{{- end -}}
{{/* custom aliases for handbook sections */}}
{{- with site.GetPage "handbook" -}}
{{- range .Sections -}}
{{- if not (in $root_sections (replace .RelPermalink "/handbook" "")) -}}
{{- $section_aliases.Add (printf "%s:splat" .RelPermalink) (replace .RelPermalink "/handbook" "" 1 | printf "%s*" | slice) -}}
{{- end -}}
{{- end -}}
{{- end -}}
{{ printf "\n# Aliases Generated from Front Matter" }}
{{ printf "" }}
{{- range $permalink, $redirects := $aliases.Values -}}
{{- range $r := $redirects -}}
{{- printf "%s %s\n" $r $permalink -}}
{{- end -}}
{{- end -}}
{{ printf "\n# Root level section aliases\n" }}
{{- range $permalink, $redirects := $section_aliases.Values -}}
{{- range $r := $redirects -}}
{{- printf "%s %s\n" $r $permalink -}}
{{- end -}}
{{- end -}}
{{ printf "" }}

# Files with Underscores in their Name - remove 2024-12-01
/handbook/security/External_Security_Communications_Procedure.html /handbook/security/external-security-communications-procedure/
/handbook/security/gitlab_projects_baseline_requirements.html /handbook/security/gitlab_projects_baseline_requirements/
/handbook/security/gitlab_security_resource_center.html /handbook/security/gitlab_security_resource_center/
/handbook/security/security-assurance/field-security/answerbase_quality_guide.html /handbook/security/security-assurance/field-security/answerbase_quality_guide/
/handbook/security/security-assurance/field-security/field_security_observation_and_ofi_quality_guide.html /handbook/security/security-assurance/field-security/field_security_observation_and_ofi_quality_guide/
/handbook/security/security-assurance/field-security/independent_security_assurance.html /handbook/security/security-assurance/field-security/independent_security_assurance/
/handbook/security/security-assurance/governance_and_field_security_team_charter.html /handbook/security/security-assurance/governance_and_field_security_team_charter/
/handbook/security/security-assurance/production_readiness_compliance_assessment.html /handbook/security/security-assurance/production-readiness-compliance-assessment/
/handbook/security/security-assurance/security-risk/sox_cuec_mapping_procedure.html /handbook/security/security-assurance/security-risk/sox_cuec_mapping_procedure/
/handbook/legal/privacy/us-state-privacy-disclosure/ https://about.gitlab.com/privacy/us-state-privacy-rights-and-disclosures/

# Solutions Architecture Handbook Moved - remove 2025-06-01
/handbook/customer-success/solutions-architects/sa-practices/strategic-solution-selling/ /handbook/solutions-architects/sa-practices/strategic-solution-selling/
/handbook/customer-success/solutions-architects/sa-practices/technical-close-plan/ /handbook/solutions-architects/sa-practices/technical-close-plan/
/handbook/customer-success/solutions-architects/sa-practices/recognizing-cognitive-bias/ /handbook/solutions-architects/sa-practices/recognizing-cognitive-bias/
/handbook/customer-success/solutions-architects/sa-practices/subject-matter-experts/ /handbook/solutions-architects/sa-practices/subject-matter-experts/
/handbook/customer-success/solutions-architects/sa-practices/sa-office-hours/ /handbook/solutions-architects/sa-practices/sa-office-hours/
/handbook/customer-success/solutions-architects/sa-practices/business-value-consulting/ /handbook/solutions-architects/sa-practices/business-value-consulting/
/handbook/customer-success/solutions-architects/sa-practices/day-in-the-life/ /handbook/solutions-architects/sa-practices/day-in-the-life/
/handbook/customer-success/solutions-architects/sa-practices/ride-alongs/ /handbook/solutions-architects/sa-practices/ride-alongs/
/handbook/customer-success/solutions-architects/sa-practices/monthly-release-quiz/ /handbook/solutions-architects/sa-practices/monthly-release-quiz/
/handbook/customer-success/solutions-architects/sa-practices/technical-opportunity-plan/ /handbook/solutions-architects/sa-practices/technical-opportunity-plan/
/handbook/customer-success/solutions-architects/sa-practices/gitlab-dedicated-prospects/ /handbook/solutions-architects/sa-practices/gitlab-dedicated-prospects/
/handbook/customer-success/solutions-architects/sa-practices/effective-objection-handling-practice/ /handbook/solutions-architects/sa-practices/effective-objection-handling-practice/
/handbook/customer-success/solutions-architects/sa-practices/sa-retrospective-feedback/ /handbook/solutions-architects/sa-practices/sa-retrospective-feedback/
/handbook/customer-success/solutions-architects/sa-practices/value-stream-discovery/ /handbook/solutions-architects/sa-practices/value-stream-discovery/
/handbook/customer-success/solutions-architects/sa-practices/selling-professional-services/ /handbook/solutions-architects/sa-practices/selling-professional-services/
/handbook/customer-success/solutions-architects/sa-practices/communities-of-practice/integration-technologies/ /handbook/solutions-architects/sa-practices/communities-of-practice/integration-technologies/
/handbook/customer-success/solutions-architects/sa-practices/communities-of-practice/ /handbook/solutions-architects/sa-practices/communities-of-practice/
/handbook/customer-success/solutions-architects/sa-practices/ /handbook/solutions-architects/sa-practices/
/handbook/customer-success/solutions-architects/sa-practices/deliberate-practice/ /handbook/solutions-architects/deliberate-practice/
/handbook/customer-success/solutions-architects/tools-and-resources/pov/platform/ /handbook/solutions-architects/tools-and-resources/pov/platform/
/handbook/customer-success/solutions-architects/tools-and-resources/pov/devsecops/ /handbook/solutions-architects/tools-and-resources/pov/devsecops/
/handbook/customer-success/solutions-architects/tools-and-resources/pov/compliance/ /handbook/solutions-architects/tools-and-resources/pov/compliance/
/handbook/customer-success/solutions-architects/tools-and-resources/pov/ /handbook/solutions-architects/tools-and-resources/pov/
/handbook/customer-success/solutions-architects/tools-and-resources/pov/ai/ /handbook/solutions-architects/tools-and-resources/pov/ai/
/handbook/customer-success/solutions-architects/tools-and-resources/pov/automation/ /handbook/solutions-architects/tools-and-resources/pov/automation/
/handbook/customer-success/solutions-architects/tools-and-resources/rfp/ /handbook/solutions-architects/tools-and-resources/rfp/
/handbook/customer-success/solutions-architects/tools-and-resources/trial-guidelines/ /handbook/solutions-architects/tools-and-resources/trial-guidelines/
/handbook/customer-success/solutions-architects/tools-and-resources/workshop/ /handbook/solutions-architects/tools-and-resources/workshop/
/handbook/customer-success/solutions-architects/tools-and-resources/ /handbook/solutions-architects/tools-and-resources/
/handbook/customer-success/solutions-architects/sa-career-development/ /handbook/solutions-architects/sa-career-development/
/handbook/customer-success/solutions-architects/sa-manager/sa-offsites/ /handbook/solutions-architects/sa-manager/sa-offsites/
/handbook/customer-success/solutions-architects/sa-manager/ /handbook/solutions-architects/sa-manager/
/handbook/customer-success/solutions-architects/processes/account-planning/ /handbook/solutions-architects/processes/account-planning/
/handbook/customer-success/solutions-architects/processes/activity-capture/activity-desc/ /handbook/solutions-architects/processes/activity-capture/activity-desc/
/handbook/customer-success/solutions-architects/processes/activity-capture/ /handbook/solutions-architects/processes/activity-capture/
/handbook/customer-success/solutions-architects/processes/alliance/ /handbook/solutions-architects/processes/alliance/
/handbook/customer-success/solutions-architects/processes/commercial/ /handbook/solutions-architects/processes/commercial/
/handbook/customer-success/solutions-architects/processes/technical-discovery/ /handbook/solutions-architects/processes/technical-discovery/
/handbook/customer-success/solutions-architects/processes/collaboration-project/ /handbook/solutions-architects/processes/collaboration-project/
/handbook/customer-success/solutions-architects/processes/ /handbook/solutions-architects/processes/
/handbook/customer-success/solutions-architects/processes/channel/ /handbook/solutions-architects/processes/channel/
/handbook/customer-success/solutions-architects/sa-onboarding/ /handbook/solutions-architects/sa-onboarding/
/handbook/customer-success/solutions-architects/demonstrations/ /handbook/solutions-architects/demonstrations/
/handbook/customer-success/solutions-architects/sa-documentation/ /handbook/solutions-architects/sa-documentation/
/handbook/customer-success/solutions-architects/sa-content/ /handbook/solutions-architects/sa-content/
/handbook/customer-success/solutions-architects/sales-plays/ /handbook/solutions-architects/sales-plays/
/handbook/customer-success/solutions-architects/strategic-field-org/ /handbook/solutions-architects/strategic-field-org/
/handbook/customer-success/solutions-architects/demo-architect/ /handbook/solutions-architects/demo-architect/
/handbook/customer-success/solutions-architects/ /handbook/solutions-architects/

# Handbook doesn't use .html style page locations so repoint these
/*.html /:splat/ 301
